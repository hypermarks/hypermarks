@import "axis/axis"
@import "jehanutils"
@import "inceptiongrid"
@import "base"
@import url(http://fonts.googleapis.com/css?family=Roboto:400,300,700);

*,
*:before,
*:after {
  -moz-box-sizing border-box
  -webkit-box-sizing border-box
  box-sizing border-box
}

*:focus
  outline none

global-reset()
normalize()
base()
// headers()
bold-italic()

.btn
  a
    reset-link()
  button-loud()
  button-spacing()

.btn-quiet
  a
    reset-link()
  button-quiet()
  button-spacing()

a 
  link()

body
  background offwhite

input
  input()

// form
//   display inline-block

h1,
h2,
h3,
h4,
h5,
h6
  font-weight inherit
  font-size inherit
  line-height inherit
  margin 0
  padding 0

.float-right
  float right

.float-left
  float left


//GLOBAL
.dropdown
  position relative
  span
    cursor pointer
  ul
    modal-style()
    reset-list()
    position absolute
    top 2em
    left 0
    display none
    z-index 1

    &:after
      content ''
      position absolute 
      top -5px 
      left 30px
      size(10px)
      background black
      z-index -1
      transform rotate(45deg)
      background lightgrey

    li
      cursor pointer
      display block
      padding .75em
      menu-style()
  ._header
    cursor auto
    background lightgrey

  &.-right
    ul
      left auto
      right 0
      &:after
        left auto
        right 30px
      li 
        text-align right

  &.-active
    ul
      display block

label.inline 
  & > * 
    margin-right .5em

//LOCAL
.header
  nav-height = 50px
  clearfix()
  background white
  border-bottom 1px solid brand

  ._logo
    middle-parent()
    height nav-height
    col(1, 3, no-gutter)
    padding-left gutter * .5
    hide(under-tablet)
      
    img
      middle-child()
      size(28px)
      margin-right gutter * .25
    ._text
      middle-child()
      font-size 1.8em
      color brand

  ._controls
    col(2, 3)
    @media under-tablet
      col(1, 1)
    ._searchbox
      float left
      middle-parent()
      height nav-height
      max-width 70%
      & > *
        middle-child()

  ._links
    float right
    ._link
      height nav-height
      middle-parent()
      padding 0 1em
      span
        cursor pointer
        middle-child()
      &.-account
        padding-right 0
        border-left 1px solid brand
        i 
          padding-left .5em


.sidebar
  col(1, 3, no-gutter)
  @media under-tablet
    col(1, 4)
  @media under-phone
    display none
  box-shadow micro-shadow
  background white

.menu
  margin-bottom 2rem
  menu-text()

  ul 
    reset-list()

  &.-hoverable
    .menu__item
      &:hover
        border-color accent
        background lightblue
      &:active, .-active
        background accent
        color white

   .sortable-placeholder
     padding 1em !important
     &:before
       content '|'
       visibility hidden

.menu__topbar
  padding .5em gutter * .5
  nav-justify()
  line-height 1
  margin-bottom -1em
  ._title
    font-size large-text
    display inline-block
    vertical-align middle
    upcase()
  ._control
    vertical-align middle
    display inline-block

.menu__item
  background white
  padding-top 1em !important
  padding-bottom 1em !important
  border-bottom 1px solid transparent
  border-top 1px solid transparent
  position relative
  cursor pointer
  padding-left gutter * .5 !important
  padding-right gutter * .5 !important
  a
    reset-link()
  &:first-child
    border-top 1px solid medgrey
  &.-added
    animation addedFade 400ms
    ._count
      animation countBump 200ms
  ._count
    float right
    &.-bump
      animation countBump 100ms


@keyframes countBump
  0%
    transform scale(2)

  100%
    transform scale(1)



@keyframes addedFade
  0%
    background accent
    color white
  100%
    background white
    color inherit



page-topbar-height = 4rem
.page
  col(2, 3)
  @media under-tablet
    col(3, 4)
  @media under-phone
    col(1,1)
  .page__topbar
    width 100%
    nav-justify()
    line-height 1.7
    margin-bottom 1.5em
    ._title
      vertical-align middle
      display inline-block
      font-size larger-text
      font-weight 300
    ._control
      vertical-align middle
      display inline-block


.results
  .results__topbar
    margin-bottom 1.5em
  .results__divider
    label()
    border-bottom 1px solid medgrey
    margin-bottom 20px

.hypermark
  card()
  padding .5em
  margin-bottom 1.5em
  .hypermark__link
    font-size large-text
    overflow ellipsis
    // display block
  .hypermark__sani-url
    padding-top 5px
    font-size small-text
    margin-bottom 5px
    display block
    color accent2
    overflow ellipsis
  .hypermark__bottom-bar
    margin-top .5em
  .hypermark__close
    float right
    font-size large-text
    cursor pointer
  
.modal-overlay
  background rgba(black, .2)
  z-index 2
  position fixed
  height 100%
  width 100%
  top 0
  left 0
  text-align center
  visibility hidden
  opacity 0
  transition 200ms
  &.-active
    visibility visible
    opacity 1

.modal-window
  modal-style()
  padding 1em
  margin-top 15%
  display inline-block
  position relative
  .modal-window__topbar
    font-size larger-text
    font-weight 300
    margin-bottom .5em
 .modal-window__bottombar
    margin-top 1em  

.top
  position relative
  z-index 3

.btn-bar
  white-space: no-wrap;
  margin: 0;
  padding: 0;
  * 
    &:first-child
      border-bottom-right-radius 0
      border-top-right-radius 0
    &:last-child
      border-bottom-left-radius 0
      border-top-left-radius 0
